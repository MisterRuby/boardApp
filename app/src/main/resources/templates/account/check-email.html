<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{/account/fragments :: head}"></head>

<body>

<div th:replace="~{/account/fragments :: top-nav (true)}"></div>
<div class="container">
  <h2>회원 가입 절차를 완료하시려면 인증 이메일을 확인하세요.</h2>
  <p th:text="${email}">email</p>
  <button class="email-request" th:onclick="resendConfirmEmail()">인증 이메일 재전송</button>
</div>

<script>
  const resendConfirmEmail = () => {
    const url = "/account/resend-confirm-email"
    fetch(url)
            .then((response) => {
              if (response.ok) alert("등록하신 이메일로 인증 이메일이 전송되었습니다. 이메일을 확인해주세요");
            })
            .catch(() => {
              alert("인증 이메일 전송 요청에 실패했습니다. 잠시 후 다시 요청해주세요.");
            })
  }
</script>
</body>

</html>